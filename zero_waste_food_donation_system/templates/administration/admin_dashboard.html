<!DOCTYPE html>
<html>
<head>
    <title>Admin Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="bg-light">
<div class="container mt-4">
    <h2>Admin Dashboard</h2>
    <a href="{% url 'admin_logout' %}" class="btn btn-danger btn-sm float-end">Logout</a>
    <hr>

    <div class="row text-center">
        <div class="col-md-3">
            <div class="card shadow p-3">
                <h4>{{ total_donors }}</h4>
                <p>Donors</p>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card shadow p-3">
                <h4>{{ total_receivers }}</h4>
                <p>Receivers</p>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card shadow p-3">
                <h4>{{ total_donations }}</h4>
                <p>Donations</p>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card shadow p-3">
                <h4>{{ pending_pickups }}</h4>
                <p>Pending Pickups</p>
            </div>
        </div>
    </div>

    <hr>
    <canvas id="donationChart"></canvas>
</div>

<script>
const ctx = document.getElementById('donationChart');
new Chart(ctx, {
    type: 'bar',
    data: {
        labels: ['Donors', 'Receivers', 'Donations', 'Pickups'],
        datasets: [{
            label: 'Stats',
            data: [{ total_donors }, { total_receivers }, { total_donations }, {pending_pickups }],
            backgroundColor: ['#007bff','#28a745','#ffc107','#dc3545']
        }]
    }
});
</script>
</body>
</html>
